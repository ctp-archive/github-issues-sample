<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title></title>
    <style>
      body {
  font-family: sans-serif;
  margin: 0;
  font-size: 20px;
  line-height: 2rem;
}
body a,
body a:visited {
  color: #4141cf;
}

h1 {
  line-height: 3.5rem;
}

table th {
  text-align: left;
}

main {
  padding: 1rem 3rem;
}

header {
  border-bottom: 1px solid black;
  margin-bottom: 2rem;
  padding: 0.5rem;
  font-weight: bold;
}
header a,
header a:visited {
  color: black;
}

table {
  border-collapse: collapse;
}
table td,
table th {
  padding: 0.8rem;
  border-bottom: 1px solid grey;
}

.label {
  display: inline-block;
  margin: 0.5rem;
}
.label:first-child {
  margin-left: 0;
}
.label a,
.label a:visited {
  color: black;
}

.comment,
.issue {
  border: 1px solid grey;
  border-radius: 4px;
  margin: 1rem 0;
}
.comment .body,
.issue .body {
  padding: 1rem;
}
.comment .body img,
.issue .body img {
  display: block;
  margin: 0.5rem 0;
}
.comment .body p:first-child,
.issue .body p:first-child {
  margin-top: 0;
}
.comment .body p:last-child,
.issue .body p:last-child {
  margin-bottom: 0;
}
.comment .frontmatter,
.issue .frontmatter {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 4px 4px 0 0;
  border-bottom: 1px solid grey;
  color: black;
  display: flex;
  flex-wrap: wrap;
}
.comment .frontmatter div,
.issue .frontmatter div {
  width: 80%;
}
.comment .frontmatter div:last-child,
.issue .frontmatter div:last-child {
  width: 20%;
  text-align: right;
}
.comment .frontmatter p,
.issue .frontmatter p {
  margin: 0;
}
.comment .frontmatter .github-link,
.comment .frontmatter .github-link:visited,
.issue .frontmatter .github-link,
.issue .frontmatter .github-link:visited {
  color: blue;
  font-weight: bold;
}

    </style>
  </head>
  <body>
      <header>
  <a href="../index.html">The COVID Tracking Project Github Issue Archive</a>
</header>
<main >
  <h1>[Data Quality] Move pos+neg to calculate totals from website to data entry column</h1>
  <div class="issue">
    <div class="frontmatter">
      <div>
        <p><strong>Issue number</strong> 664</p>
        <p><strong>karaschechtman</strong> opened this issue on July 23, 2020 at 3:54 pm</p>
        
          <p><strong>Labels </strong>
            <span class="label"><a href="../label/1921151980.html">Data quality</a></span>
          
            <span class="label"><a href="../label/2036763438.html">not stale</a></span>
          
            <span class="label"><a href="../label/2148796965.html">Meta</a></span>
          </p>
          
        </div>
        <div>
          <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/664" target="_blank">Open in Github</a>
        </div>
      </div>
      <div class="body">
        <p><strong>Target Date:</strong> 08/01
<strong>Overview:</strong> Create a column for total tests and use that to fill in the website total tests columns with the same pos+neg value as before. This will move ownership of the total tests calculation to Data Entry rather than the API/website.
<strong>Contribution to milestone:</strong> This will allow us to release phased changes to the total tests, by modifying the column.
<strong>Other benefits:</strong> Future flexibility with what we expose as total tests as this landscape continues to evolve and we learn more through reaching out to states
<strong>Potential challenges:</strong> Ensuring the new column exactly matches what is on the website currently
<strong>Editorial:</strong> None for this issue, since it will not cause any changes in our values</p>
<p>Note: we are discussing this on Slack <a href="https://covid-tracking.slack.com/archives/C012C4BEAR4/p1595612286182800?thread_ts=1595612211.182600&amp;cid=C012C4BEAR4">here</a>.</p>
<ul>
<li>[x] Add a column <strong>Total Test Results</strong> to States Daily that we will use for our preferred totals metric in each state</li>
<li>[ ] Replicate website logic to get exact same values as are currently on website in that column with pos+neg</li>
<li>[ ] Expose the column in the public sheet</li>
<li>[ ] Change the API to look at this column rather than making the calculation</li>
</ul>

      </div>
    </div>
    
      <h2>Comments</h2>
      
        <div class="comment" id="issuecomment-663509841">
          <div class="frontmatter">
            <div><strong>muamichali</strong> commented on July 24, 2020 at 7:15 am</div>
            <div><a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/664#issuecomment-663509841" target="_blank">Open in Github</a></div>
          </div>
          <div class="body">
          <p>This has a lot of overlap with #578</p>

          </div>
        </div>
      
        <div class="comment" id="issuecomment-667239879">
          <div class="frontmatter">
            <div><strong>olivierlacan</strong> commented on July 31, 2020 at 12:21 pm</div>
            <div><a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/664#issuecomment-667239879" target="_blank">Open in Github</a></div>
          </div>
          <div class="body">
          <blockquote>
<p>Potential challenges: Ensuring the new column exactly matches what is on the website currently</p>
</blockquote>
<p>I don’t think it’s possible for those to match unless we start backfilling inconclusive data for states like Florida where the daily delta between persons tested includes <code>Positive</code> + <code>Negative</code> + <code>Inconclusive</code> but not <code>Pending</code> (<code>Awaiting testing</code>):
<img src="../assets/images/github/65950/89060137-7c912780-d330-11ea-8afe-5b3525ce706c.png" alt="image"></p>
<p>Reconciling which states include pending tests in their total persons tested reported sounds like a nightmare but obviously our data definitions can and should differ from individual states when appropriate so in my mind the total tests reported by a state and submitted through data entry should definitely be different when appropriate with total tests as defined by CTP.</p>
<p>I’d consider this a feature.</p>

          </div>
        </div>
      
        <div class="comment" id="issuecomment-667282230">
          <div class="frontmatter">
            <div><strong>muamichali</strong> commented on July 31, 2020 at 1:20 pm</div>
            <div><a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/664#issuecomment-667282230" target="_blank">Open in Github</a></div>
          </div>
          <div class="body">
          <p>HI <strong>@olivierlacan</strong>
I think you misread this “Ensuring the new column exactly matches what is on the website currently” - this is an interim step and the goal here is simply to match the numbers currently on the website, not to do any kind of other calculation. The goal is to move as soon as possible to just reporting the total test results that the states report, this is just required on the way to that goal due to implementation details.</p>
<p>Disclaimer: I did not look at the photo you posted and just skimmed your answer because I am working on something else… sorry.</p>

          </div>
        </div>
      
        <div class="comment" id="issuecomment-674592933">
          <div class="frontmatter">
            <div><strong>muamichali</strong> commented on August 16, 2020 at 6:36 pm</div>
            <div><a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/664#issuecomment-674592933" target="_blank">Open in Github</a></div>
          </div>
          <div class="body">
          <p>Closing. We are going to keep this calculation in the API for now</p>

          </div>
        </div>
      
    
  
</main>
  </body>
</html>
