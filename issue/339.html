<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title></title>
    <style>
      body {
  font-family: sans-serif;
  margin: 0;
  font-size: 20px;
  line-height: 2rem;
}
body a,
body a:visited {
  color: #4141cf;
}

h1 {
  line-height: 3.5rem;
}

table th {
  text-align: left;
}

main {
  padding: 1rem 3rem;
}

header {
  border-bottom: 1px solid black;
  margin-bottom: 2rem;
  padding: 0.5rem;
  font-weight: bold;
}
header a,
header a:visited {
  color: black;
}

table {
  border-collapse: collapse;
}
table td,
table th {
  padding: 0.8rem;
  border-bottom: 1px solid grey;
}

.label {
  display: inline-block;
  margin: 0.5rem;
}
.label:first-child {
  margin-left: 0;
}
.label a,
.label a:visited {
  color: black;
}

.comment,
.issue {
  border: 1px solid grey;
  border-radius: 4px;
  margin: 1rem 0;
}
.comment .body,
.issue .body {
  padding: 1rem;
}
.comment .body img,
.issue .body img {
  display: block;
  margin: 0.5rem 0;
}
.comment .body p:first-child,
.issue .body p:first-child {
  margin-top: 0;
}
.comment .body p:last-child,
.issue .body p:last-child {
  margin-bottom: 0;
}
.comment .frontmatter,
.issue .frontmatter {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 4px 4px 0 0;
  border-bottom: 1px solid grey;
  color: black;
  display: flex;
  flex-wrap: wrap;
}
.comment .frontmatter div,
.issue .frontmatter div {
  width: 80%;
}
.comment .frontmatter div:last-child,
.issue .frontmatter div:last-child {
  width: 20%;
  text-align: right;
}
.comment .frontmatter p,
.issue .frontmatter p {
  margin: 0;
}
.comment .frontmatter .github-link,
.comment .frontmatter .github-link:visited,
.issue .frontmatter .github-link,
.issue .frontmatter .github-link:visited {
  color: blue;
  font-weight: bold;
}

    </style>
  </head>
  <body>
      <header>
  <a href="../index.html">The COVID Tracking Project Github Issue Archive</a>
</header>
<main >
  <h1>Endpoints Chaning?</h1>
  <div class="issue">
    <div class="frontmatter">
      <div>
        <p><strong>Issue number</strong> 339</p>
        <p><strong>richarddowdy</strong> opened this issue on April 30, 2020 at 11:48 am</p>
        
        </div>
        <div>
          <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/339" target="_blank">Open in Github</a>
        </div>
      </div>
      <div class="body">
        <p>4-29-20 <strong>@</strong> 16:00
GET to <strong>api/states</strong> returned array of data objects for each state properly.</p>
<p>4-30-20 <strong>@</strong> 00:10
CORS errors on GET request to <strong>api/states</strong> even though Insomnia request showed response header of &quot; access-control-allow-origin: * &quot;. Changed endpoint <strong>api/states/current.json</strong> which fetched proper data without errors.</p>
<p>4-30-20 <strong>@</strong> 09:00
CORS errors on GET request to <strong>api/states/current.json</strong>. Changed it back to <strong>api/states</strong> and all data is fetched properly again.</p>

      </div>
    </div>
    
      <h2>Comments</h2>
      
        <div class="comment" id="issuecomment-622052300">
          <div class="frontmatter">
            <div><strong>kevee</strong> commented on April 30, 2020 at 2:18 pm</div>
            <div><a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/339#issuecomment-622052300" target="_blank">Open in Github</a></div>
          </div>
          <div class="body">
          <p>Hi, Richard. We did have a little outage on Netlify and some routing issues yesterday into today with those legacy API paths. Our actual API endpoints start with <code>api/v1</code>, those endpoints you are referring to are deprecated. You can find a <a href="https://covidtracking.com/api/">list of all our supported endpoints on our website here</a>.</p>

          </div>
        </div>
      
        <div class="comment" id="issuecomment-634849884">
          <div class="frontmatter">
            <div><strong>muamichali</strong> commented on May 27, 2020 at 1:16 pm</div>
            <div><a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/339#issuecomment-634849884" target="_blank">Open in Github</a></div>
          </div>
          <div class="body">
          <p>Hi <strong>@richarddowdy</strong>
Just wanted to give you a heads up on some changes that are coming soon from our web team (hi kevin!)</p>
<blockquote>
<p>We are now building the entire API to a repository. All the JSON/CSV files are built every 15 minutes and put into this repo.
<a href="https://github.com/COVID19Tracking/covid-public-api">https://github.com/COVID19Tracking/covid-public-api</a></p>
<p>We have a test version of the website available that exposes that repo at the same exact endpoints we have now.
<a href="https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api">https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api</a></p>
<p>There is a new status endpoint that gives info on when the data was last updated. There’s also a run number that we can use to go back and download a snapshot of the API at that moment.
<a href="https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api/v1/status.json">https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api/v1/status.json</a>
<a href="https://github.com/COVID19Tracking/covid-public-api-build/actions/runs/116895561">https://github.com/COVID19Tracking/covid-public-api-build/actions/runs/116895561</a></p>
<p>I have reproduced the exact same file structure and format across the different endpoints. The only changes are some additional fields that were in current endpoints are now in every entry for US or states’ daily data - for example, dataQualityGrade, There were also some odd time offsets in the old API for fields like dateModified that were presented as UTC, but were in fact not. So they are now UTC.
Please take some time to test out the new API files and endpoint and give feedback. I hope to have this replace our production API build tool by the end of this week. Any feedback filed as an issue in this repo <a href="https://github.com/COVID19Tracking/covid-public-api-build">https://github.com/COVID19Tracking/covid-public-api-build</a> would be helpful!</p>
</blockquote>

          </div>
        </div>
      
    
  
</main>
  </body>
</html>
