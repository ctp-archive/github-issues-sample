<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title></title>
    <style>
      body {
  font-family: sans-serif;
  margin: 0;
  font-size: 20px;
  line-height: 2rem;
}
body a,
body a:visited {
  color: #4141cf;
}

h1 {
  line-height: 3.5rem;
}

table th {
  text-align: left;
}

main {
  padding: 1rem 3rem;
}

header {
  border-bottom: 1px solid black;
  margin-bottom: 2rem;
  padding: 0.5rem;
  font-weight: bold;
}
header a,
header a:visited {
  color: black;
}

table {
  border-collapse: collapse;
}
table td,
table th {
  padding: 0.8rem;
  border-bottom: 1px solid grey;
}

.label {
  display: inline-block;
  margin: 0.5rem;
  padding: 0 0.2rem;
  border-radius: 3px;
  background: #c4b4e1;
}
.label:first-child {
  margin-left: 0;
}
.label a,
.label a:visited {
  color: black;
  text-decoration: none;
}

.comment,
.issue {
  border: 1px solid grey;
  border-radius: 4px;
  margin: 1rem 0;
}
.comment .body,
.issue .body {
  padding: 1rem;
}
.comment .body img,
.issue .body img {
  display: block;
  margin: 0.5rem 0;
}
.comment .body p:first-child,
.issue .body p:first-child {
  margin-top: 0;
}
.comment .body p:last-child,
.issue .body p:last-child {
  margin-bottom: 0;
}
.comment .frontmatter,
.issue .frontmatter {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 4px 4px 0 0;
  border-bottom: 1px solid grey;
  color: black;
  display: flex;
  flex-wrap: wrap;
}
.comment .frontmatter div,
.issue .frontmatter div {
  width: 80%;
}
.comment .frontmatter div:last-child,
.issue .frontmatter div:last-child {
  width: 20%;
  text-align: right;
}
.comment .frontmatter p,
.issue .frontmatter p {
  margin: 0;
}
.comment .frontmatter .github-link,
.comment .frontmatter .github-link:visited,
.issue .frontmatter .github-link,
.issue .frontmatter .github-link:visited {
  color: blue;
  font-weight: bold;
}

.event {
  margin: 2.5rem;
}

    </style>
  </head>
  <body>
      <header>
  <a href="../index.html">The COVID Tracking Project Github Issue Archive</a>
</header>
<main >
  <h1>why change the columns?</h1>
  <div class="issue">
    <div class="frontmatter">
      <div>
        <p>
          <strong>Issue number</strong>
          369</p>
        <p>
          <strong>sdangt</strong> opened this issue on May 6, 2020 at 7:57 am</p>
        
          <p>
            <strong>Labels </strong>
            
              <span class="label">
                <a href="../label/2044859300.html">API</a>
              </span>
            
          </p>
        
      </div>
      <div>
        <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369" target="_blank">Open in Github</a>
      </div>
    </div>
    <div class="body">
      <p>I appreciate what you guys are doing.</p>
<p>I will just note that I think it’s helpful once you have columns established to leave them where they are.</p>
<p>I think next time I may choose a different data source, because I’ve run into a time-wasters.</p>
<p>First, and least troublesome, the time series are in backwards order, so have to be reversed for charting.  Secondly the dates are not readable by Excel (have to be parsed even though Excel can read a wide variety of standard date formats).  And as I <a href="https://github.com/COVID19Tracking/issues/issues/210">mentioned before</a>, data for hospitalizedCurrently and hospitalizedCumulative were for awhile swapped (now are switched back), so Currently was larger than Cumulative.</p>
<p>But this is maybe the biggest glitch.  I don’t see why once you have a data file going, you need to change the columns.  Yesterday the file reads into Excel with Column O being “death”, and today it reads in with that column being “hash”.</p>
<p>That’s the <a href="https://covidtracking.com/api/v1/states/daily.csv">state data</a> from <a href="https://covidtracking.com/api">the API</a>.</p>
<p>And the <a href="https://covidtracking.com/api/v1/us/daily.csv">US data</a> file still has “death” in Column O, so now the two files are inconsistent with each other.</p>
<p>It’s both easier and faster computationally to just read Column O rather than to actually search for specific text, and usually that works.  In this case, it’s obvious enough that the hash is not even a number no less the number of deaths.  But were it a different column with similar-type numbers, say “recovered” then it would be harder to notice right away.</p>
<p>Column Q used to be “total” – tests – so that’s at least an integer so would plug into analysis and produce wrong results.</p>
<p>The “total” column header name also indicates another little glitch, which is that they are not descriptive.  Why have a column titled “total”?  Total what?  The “positive” and “negative” columns are at the beginning of the spreadsheet and it’s not clear that they are what would be totaled there.  The total column isn’t even entirely necessary.  Presumably anyone who is analyzing this data is able to add two columns, although this does save some computation time.</p>
<p>The column-swapping though means that as with the date we have to do this the hard way, make sure that you haven’t moved things around.  However, even if you have, you might put the data in the wrong column as with the hospitalized before.</p>
<p>I have VBA automatically reverse the time series order when I paste it, but in general, it’s easier to work with time series data that is in incremental order.  It’s possible to overcome any hurdles.  It just sort of wastes time and risks unnecessary glitches.</p>
<p>So you are springing a few unnecessary traps for people here, I think.</p>
<p>I’m not sure why “death” is all the way over in Column O (now Column Q) anyway.  This is probably the single-most-important statistic.  But once it’s there, maybe just leave it there – and certainly don’t push it even farther away from the first column.</p>
<p>Anyway, good job overall with all of the tracking.  I think this is very important.  And all things considered I think the glitches have been minimal.</p>
<p>Dan</p>

    </div>
  </div>
  
    
      
        <div class="event">
          
          
          
          
          
        </div>
      
    
      
        <div class="comment" id="issuecomment-625553415">
          <div class="frontmatter">
            <div>
              <strong>muamichali</strong> commented on May 7, 2020 at 4:50 pm</div>
            <div>
              <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369#issuecomment-625553415" target="_blank">Open in Github</a>
            </div>
          </div>
          <div class="body">
            <p>Hi <strong>@sdangt</strong></p>
<p>We appreciate your feedback. I am sorry that the change created issues for your implementation and I am glad you were able to catch it quickly. We wanted to provide the information about the <code>as of</code> timestamp and the state grade which were requested by some users.</p>
<p>We are discussing how to communicate these kinds of changes better in the future in addition to the doucmented API on the website <a href="https://covidtracking.com/api">https://covidtracking.com/api</a></p>

          </div>
        </div>
      
    
      
        <div class="event">
          
          
          
          
          
            <strong>muamichali</strong> closed the issue on May 7, 2020 at 4:50 pm
          
        </div>
      
    
      
        <div class="event">
          
          
          
          
          
        </div>
      
    
      
        <div class="event">
          
          
          
          
          
        </div>
      
    
      
        <div class="event">
          
          
          
          
          
        </div>
      
    
      
        <div class="event">
          
          
            <strong>muamichali</strong> added the label <span class="label">API</span> on May 7, 2020 at 4:50 pm
          
          
          
          
        </div>
      
    
      
        <div class="comment" id="issuecomment-626073235">
          <div class="frontmatter">
            <div>
              <strong>sdangt</strong> commented on May 8, 2020 at 5:21 pm</div>
            <div>
              <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369#issuecomment-626073235" target="_blank">Open in Github</a>
            </div>
          </div>
          <div class="body">
            <p>Thanks for your reply.  I did alter the way I use the data, just to double-check that the column is right, but I think that could throw some people.  Good job overall.  Dan</p>

          </div>
        </div>
      
    
      
        <div class="comment" id="issuecomment-634847795">
          <div class="frontmatter">
            <div>
              <strong>muamichali</strong> commented on May 27, 2020 at 11:12 am</div>
            <div>
              <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369#issuecomment-634847795" target="_blank">Open in Github</a>
            </div>
          </div>
          <div class="body">
            <p>Hi <strong>@sdangt</strong>,</p>
<p>Wanted to give you a heads up on this from our webteam</p>
<blockquote>
<p>We are now building the entire API to a repository. All the JSON/CSV files are built every 15 minutes and put into this repo.
<a href="https://github.com/COVID19Tracking/covid-public-api">https://github.com/COVID19Tracking/covid-public-api</a></p>
<p>We have a test version of the website available that exposes that repo at the same exact endpoints we have now.
<a href="https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api">https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api</a></p>
<p>There is a new status endpoint that gives info on when the data was last updated. There’s also a run number that we can use to go back and download a snapshot of the API at that moment.
<a href="https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api/v1/status.json">https://5ece700c83e8e9b0cd122372--upbeat-lovelace-3e9fff.netlify.app/api/v1/status.json</a>
<a href="https://github.com/COVID19Tracking/covid-public-api-build/actions/runs/116895561">https://github.com/COVID19Tracking/covid-public-api-build/actions/runs/116895561</a></p>
<p>I have reproduced the exact same file structure and format across the different endpoints. The only changes are some additional fields that were in current endpoints are now in every entry for US or states’ daily data - for example, dataQualityGrade, There were also some odd time offsets in the old API for fields like dateModified that were presented as UTC, but were in fact not. So they are now UTC.
Please take some time to test out the new API files and endpoint and give feedback. I hope to have this replace our production API build tool by the end of this week. Any feedback filed as an issue in this repo would be helpful!</p>
</blockquote>

          </div>
        </div>
      
    
      
        <div class="event">
          
          
          
          
          
        </div>
      
    
      
        <div class="event">
          
          
          
          
          
        </div>
      
    
      
        <div class="comment" id="issuecomment-634913422">
          <div class="frontmatter">
            <div>
              <strong>sdangt</strong> commented on May 27, 2020 at 1:10 pm</div>
            <div>
              <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369#issuecomment-634913422" target="_blank">Open in Github</a>
            </div>
          </div>
          <div class="body">
            <p>Thanks, and you have made a great effort in tackling a tough set of data.  You all have made a noteworthy contribution to our store of knowledge, and I do appreciate it.</p>

          </div>
        </div>
      
    
      
        <div class="comment" id="issuecomment-639812342">
          <div class="frontmatter">
            <div>
              <strong>sdangt</strong> commented on June 5, 2020 at 1:55 pm</div>
            <div>
              <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369#issuecomment-639812342" target="_blank">Open in Github</a>
            </div>
          </div>
          <div class="body">
            <p>Well, you changed the columns around now for the other data – <a href="https://covidtracking.com/api/v1/us/daily.csv">https://covidtracking.com/api/v1/us/daily.csv</a> at <a href="https://covidtracking.com/api">https://covidtracking.com/api</a> – which in my view is unnecessary and only results in people who have created charts tied to specific columns having to redo them.</p>
<p>What’s the reasoning for changing the columns around as you add data to the same dataset?  Is there a good justification for it?  Because it just means I have to do more work to use your data.  If there’s no good reason for it, then why do it?  But I’ve already stated my opinion on it, and I guess someone disagrees.</p>
<p>I do appreciate the data you provide, and you provide a valuable resource, but as I said, I might have used a different source if I had to do it all over again.  Obviously if I were to start out from scratch, I would assume that you move your columns around when you please, and so not assume they are fixed, but I didn’t know that in the beginning.  I automated it for the other column in the other data, but didn’t change this one.</p>
<p>In Excel for example it is significantly more work to create a chart if you cannot assume that the data is going to be in the same place every time.  It means using some rather ugly formulas and extra processing time.</p>
<p>But I just don’t see the point in changing the columns around.  If you remove one, perhaps just don’t add data to that column going forward, or indicate in its name that it’s inactive.</p>
<p>Just my opinion.  Thanks for listening.</p>

          </div>
        </div>
      
    
      
        <div class="comment" id="issuecomment-644286404">
          <div class="frontmatter">
            <div>
              <strong>sdangt</strong> commented on June 15, 2020 at 11:06 am</div>
            <div>
              <a class="github-link" href="https://github.com/COVID19Tracking/issues/issues/369#issuecomment-644286404" target="_blank">Open in Github</a>
            </div>
          </div>
          <div class="body">
            <p>You changed the columns yet again.</p>
<p><a href="https://covidtracking.com/api/v1/states/daily.csv">https://covidtracking.com/api/v1/states/daily.csv</a></p>
<p>It seems to me just an unnecessary inconvenience for data-users.  Just leave the columns alone until the end.  Why keep moving them around?</p>
<p>Anyway, I don’t get the sense that you are interested in my input, since you keep doing this and haven’t provided any explanation as to why it’s necessary to do it.</p>
<p>So this will probably be my last comment.  Thanks anyway for your contribution to COVID-19 knowledge.</p>

          </div>
        </div>
      
    
  

</main>
  </body>
</html>
